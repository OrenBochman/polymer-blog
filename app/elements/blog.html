<link rel="import" href="post.html">
<link rel="import" href="facebook-button/src/facebook-button.html">
<link rel="import" href="gravatar-element/src/gravatar.html">
<link rel="import" href="polymer-jsonp/polymer-jsonp.html">

<polymer-element name="blog-element"  attributes="">
  <template>
    <style>
      @host { :scope {display: block;} }
    </style>
    <div class="row">
      <p><facebook-button></facebook-button></p>

      <h1>A test blog</h1>
      <gravatar-element username="addyosmani@gmail.com" size="100" customurl="http://www.google.com"></gravatar-element>

      <template id="postTemplate" repeat="{{post in posts}}">
        <post-element post="{{post}}"></post-element>
      </template>

    </div>
    <polymer-jsonp auto url="elements/posts.json?callback=_polymer_jsonp_callback_" response="{{posts}}"></polymer-jsonp>
  </template>

  <script>
    function _polymer_jsonp_callback_(data){
      var t = document.getElementById('postTemplate');
      t.model = data;
    }

    Polymer('blog-element', {
      //applyAuthorStyles: true,
      //resetStyleInheritance: true,
      ready: function() { },
      enteredDocument: function() { },
      leftDocument: function() { },
      attributeChanged: function(attrName, oldVal, newVal) { }
    });
  </script>
</polymer-element>
